<!doctype html>
<html lang="ar" dir="rtl">
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/6.0.0/bootbox.min.js" integrity="sha512-oVbWSv2O4y1UzvExJMHaHcaib4wsBMS5tEP3/YkMP6GmkwRJAa79Jwsv+Y/w7w2Vb/98/Xhvck10LyJweB8Jsw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
	<head>
		<title>Survey</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
		<style>

			body {
				  background-image: url('./assets/img/background.png');
				  background-color: transparent;
				  background-repeat: no-repeat;

  				  background-attachment: fixed; 
  				  background-size: 100% 100%;
				}


			#centred-panel {

			}	
		

			.cc {
				 background-color: transparent;
				 padding: 40px;
				 margin: 15px;
			}

		.box {
  display: flex;
  align-items: center;
  justify-content: center;
}

		.box2 {
  display: flex;
 flex-wrap: wrap;
  flex-direction: row;
  min-width: 600px!;
  align-content: space-between;
  justify-content: space-between;
}




		</style>
	</head>
	<body class="default-page-padding normal-font">
		
		<br>
		<br>
		<br>

		<div class="box">
	  		<div>
	  			<h1>يف تقييم ماقام به القسم  بشكل عام ؟</h1>
	  			<br><br><br>
	  			<div class="box2">
	  				<button id="aButton" class="cc">
	  					<img src="assets/img/01.png">
	  				</button>

	  				<button id="bButton" class="cc">
	  					<img src="assets/img/02.png">
	  				</button>

	  				<button id="cButton" class="cc">
	  					<img src="assets/img/03.png">
	  				</button>

	  				<button id="dButton" class="cc">
	  					<img src="assets/img/04.png">
	  				</button>

	  				<button id="eButton" class="cc">
	  					<img src="assets/img/05.png">
	  				</button>

						
	  			</div>		
	  		</div>
		</div>

		<div id="centred-panel">

			
		</div>

		<script>

			const aButton = document.querySelector("#aButton");
			const bButton = document.querySelector("#bButton");
			const cButton = document.querySelector("#cButton");
			const dButton = document.querySelector("#dButton");
			const eButton = document.querySelector("#eButton");
			



			aButton.addEventListener("click", (event) => {
			   storeListEntriesOnline("Very Good");
			    
			});
			bButton.addEventListener("click", (event) => {
			   storeListEntriesOnline("Good");
			    
			});
			cButton.addEventListener("click", (event) => {
			   storeListEntriesOnline("Neutral");
			    
			});
			dButton.addEventListener("click", (event) => {
			   storeListEntriesOnline("Bad");
			    
			});
			eButton.addEventListener("click", (event) => {
			   storeListEntriesOnline("Very Bad");
			    
			});

			

			function storeListEntriesOnline(rating) {

			    const url = 'https://dkywpjywfujxcgfsddki.supabase.co/rest/v1/survey_data';
			    const api_key = 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRreXdwanl3ZnVqeGNnZnNkZGtpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTc3Mzc3NTEsImV4cCI6MjAxMzMxMzc1MX0.U7oMU2FsO4vutdrecHMTpZMNtzc1swHalthT_6ShxgM';
			    const api = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRreXdwanl3ZnVqeGNnZnNkZGtpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTc3Mzc3NTEsImV4cCI6MjAxMzMxMzc1MX0.U7oMU2FsO4vutdrecHMTpZMNtzc1swHalthT_6ShxgM';
			    const content_type = "Content-Type: application/json";


			    $.ajax({
			        type: "POST",
			        dataType: "json",
			        url: url,
			        headers: {
			            'Authorization': api_key,
			            'apikey': api,
			            'Content-Type': 'application/json',
			        },
			        data: JSON.stringify( { rating: rating}),
			        success: function(data){
			            alert(data);
			        }
			    });

var alert = bootbox.alert('Thank you for your feedback!');
alert.show();
setTimeout(function(){alert.modal('hide'); }, 1000);
		}

</script>

	</body>
</html>
